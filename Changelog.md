## v0.6.0-rc.3

### 更新历史
- 修复个别设备不支持IPv6协议栈导致无法远程访问的问题
- 播放器界面右上角的按钮设定可以自动存储在浏览器里了，刷新不再丢失设置
- 写了GitHub Wiki

### 更新说明
如无特别说明，版本升级方法都是直接把新版程序覆盖旧版，或者置于同一目录下。数据库、设置迁移、bug修复等都是全自动的。如果从Safari打开新版网页，可能需要刷新两次页面。  
如果遇到bug请在GitHub Issues中提出。  
此版本为**测试版**。计划写完手动编辑标签功能再发布v0.6.0正式版。

v0.6.0-rc.1起改为服务器默认监听在::上。正常情况下并不会造成问题，然而根据报告描述的情况，个别设备由于各种原因IPv6协议栈有问题，导致无法从远程设备访问服务器。为了兼容起见回滚了这一变化。

## v0.6.0-rc.2

### 更新历史
- 修复上一个版本Docker打包错误的问题
- 为了方便管理音声库，添加音声库的输入框现在会默认填充一个路径。可以根据需要自行修改

### 更新说明
如无特别说明，版本升级方法都是直接把新版程序覆盖旧版，或者置于同一目录下。数据库、设置迁移、bug修复等都是全自动的。如果从Safari打开新版网页，可能需要刷新两次页面。  
此版本为测试版。计划写完手动编辑标签功能再发布v0.6.0正式版。

修复了上一个版本Docker打包错误的问题。感谢komakomako报告。
更新步骤：
1. 把新版程序覆盖旧版，打开程序，打开[http://localhost:8888](http://localhost:8888)。
2. 刷新两次页面。
3. 前往扫描页面，点扫描，即可修复相关作品的声优信息。过程中需要连接DLsite。

如果曾经运行过上一个版本扫描修复过，也请再次扫描一次。

如果扫描在修复阶段报错，并且重复扫描无法解决，请在[GitHub issue](https://github.com/umonaca/kikoeru-express/issues)中报告作品名称和错误信息。可以手动删除`config`文件夹下的`update.lock`文件以清除本次升级提示，但不推荐。

### 使用方法
见[使用说明](https://github.com/umonaca/kikoeru-express/blob/unstable/%E7%94%A8%E6%88%B7%E6%96%87%E6%A1%A3.md)。
简而言之，以下任选其一：
- Windows用户下载`kikoeru-win-x64-v0.6.0-rc.2.zip`，直接解压即可使用。无需安装node等
- Mac OS用户下载`kikoeru-darwin-x64-v0.6.0-rc.2.zip`，解压执行其中的`kikoeru-express`，并赋予其执行权限（可在命令行下`chmod +x kikoeru-express`）。遇到权限提示请选择允许
- Docker镜像`kikoeru-docker-v0.6.0-rc.2.tar`，或者Docker Hub上的`muveex/kikoeru:v0.6.0-rc.2`
- 也可使用[docker-compose](https://github.com/umonaca/kikoeru-express/blob/v0.6.0-rc.2/docker-compose.yml)。可自行编辑文件调整挂载位置
- 源码安装：从[前端项目页面](https://github.com/umonaca/kikoeru-quasar/releases/tag/v0.6.0-rc.2)下载`spa-v0.6.0-rc.2.zip`或`pwa-v0.6.0-rc.2.zip`（如果不使用PWA或没有HTTPS证书，请使用`spa-v0.6.0-rc.2.zip`），然后解压到本项目`dist/`文件夹下。或者也可以手动quasar build前端页面，然后把前端项目文件夹下生成的`dist/spa/`的内容整个复制/软连接/挂载/NTFS Junction过来等。请使用`git checkout v0.6.0-rc.2`切换到此版本的源代码。

## v0.6.0-rc.1

### 更新历史
- 增加前进后退按钮，默认为后退5秒前进30秒，可以在设置中调整
- 增加设置项：屏蔽远程连接
- 修复 かの仔 和 こっこ 识别为同一个人的问题
- 修复上个版本引入的不能单曲循环的bug
- 修复暂停时拖动进度条后歌词会播放的问题
- 程序内部允许非管理员读取公开的设置（目前只有跳略秒数）
- 调整自动检查GitHub更新逻辑，当被限流时控制台不报错
- 代码重构拆分路由等

### 更新说明
如无特别说明，版本升级方法都是直接把新版程序覆盖旧版，或者置于同一目录下。数据库、设置迁移、bug修复等都是全自动的。如果从Safari打开新版网页，可能需要刷新两次页面。  
此版本为测试版。计划写完手动编辑标签功能再发布v0.6.0正式版。

本次修复了 かの仔 和 こっこ 识别为同一个人的问题，无需删除数据库，重新扫描即可修复。
更新步骤：
1. 把新版程序覆盖旧版，打开程序，打开[http://localhost:8888](http://localhost:8888)。
2. 如果是Chrome或Firefox会有蓝色的消息提示，刷新页面即可。Safari如果没有见到提示请刷新两次页面。
3. 前往扫描页面，点扫描，即可修复相关作品的声优信息。过程中需要连接DLsite。

如果扫描在修复阶段报错，并且重复扫描无法解决，请在[GitHub issue](https://github.com/umonaca/kikoeru-express/issues)中报告作品名称和错误信息。可以手动删除`config`文件夹下的`update.lock`文件以清除本次升级提示，但不推荐。

此版本的另一主要变化是增加前进后退按钮，方便练习听力的朋友。默认后退5秒前进30秒，可在高级设置中分别调整两个按钮的秒数。  
![Seek 按钮](https://i.imgur.com/m9WtURi.png)

点右上角可以隐藏封面上的按钮，也可以交换前进后退按钮和切换曲目按钮：  
![交换Seek 按钮](https://i.imgur.com/VfiCNHu.png)

## v0.6.0-rc.0

### 更新历史
- 修复收藏页分页逻辑，之前最多只能显示12或24条
- 启用Gzip压缩传输网页，可在高级设置中关闭此选项
- 增加 `<noscript>`标签，当浏览器脚本崩溃或未启用ECMAScript时显示文字
- 修复收藏页面一个项目的评论框刷新或切换页面以前只能打开一次的问题
- 收藏页加入Vue router，现在收藏、进度页全部有相应的地址，浏览器前进后退可以返回相应的页面
- 新增睡眠模式，可以设置或取消睡眠定时，在指定的时间停止播放
- 新增检查更新功能，当GitHub上有新版时打开网页会出现提示。可在高级设置中关闭这一选项
- 从此版本开始，数据库位置默认为程序所在目录的`sqlite`文件夹下，`databaseFolderDir`设置默认不再有效。详情见更新说明

### 更新说明
如无特别说明，版本升级方法都是直接把新版程序覆盖旧版，或者置于同一目录下。数据库、设置迁移、bug修复等都是全自动的。  
此版本为测试版。原计划写完手动编辑标签功能再发布v0.6.0，但是发现之前收藏页分页逻辑有问题，所以提前发布了。~~其实是backport太麻烦~~  
将会在v0.6.0正式版发布以前加上手动编辑标签功能。

这次主要有两个变化，一是修复收藏页分页逻辑，之前最多只能显示12或24条，二是今后数据库位置默认为程序所在目录的`sqlite`文件夹下。  
之前的程序由于设置文件中指定了数据库文件的绝对路径，导致程序无法随意移动、复制，而且如果程序是在移动硬盘上，重新插拔导致驱动器号变更以后程序也无法使用。所以从这个版本开始，数据库所在目录将默认锁定为程序所在目录的`sqlite`文件夹下，`config/config.json`文件中的`databaseFolderDir`设置默认不再有效。  
如果手动修改过`config.json`，希望手动指定一个别的位置，那么请设置`dbUseDefaultPath`为`false`，然后再编辑`databaseFolderDir`里的路径。
